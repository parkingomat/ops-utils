#!/usr/bin/awk -f

# Counts the frequency of each IP in a log file.
# Expects the IP to be in the first ($1) column.
#
# Sample Output:
# ip-histogram /var/log/free.access.log
#   12 1.1.1.1
#   18 2.2.2.2

{
  histogram[$1]++
}

END {
  for (ip in histogram)
    print histogram[ip], ip | "sort -n"
}
